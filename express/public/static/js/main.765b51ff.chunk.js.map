{"version":3,"sources":["slices/todo.js","api/index.js","Todo.jsx","SingleTodo.jsx","App.js","store/index.js","index.js"],"names":["todosSlice","createSlice","name","initialState","todos","filteredTodos","reducers","setTodo","state","action","push","payload","setAllTodos","changeTodoStatus","index","findIndex","item","_id","changedTodo","isDone","status","deleteTodo","splice","actions","apiUrl","API","getAllTodos","a","query","axios","method","url","getTodo","id","updateTodo","value","data","saveTodo","todo","headers","allTodosHandler","deleteComplete","deleteById","Todo","props","useState","setValue","allTodosSwitch","setAllTodosSwitch","activeFilter","setActiveFilter","history","useHistory","dispatch","useDispatch","useSelector","useEffect","then","res","todoHandler","useCallback","e","preventDefault","target","onKeyDown","key","newTodo","checked","todoStatusHandler","deleteTodoHandler","filterHandler","filterBy","deleteCompletedTodos","event","getCountCompletedTodos","useMemo","filter","length","editTodoHandler","className","type","onChange","map","TodoItem","onClick","activeClassName","to","exact","styled","span","SingleTodo","useParams","isEdit","useRouteMatch","textHandler","saveHandler","disabled","App","path","reducer","combineReducers","store","configureStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.765b51ff.chunk.js","sourcesContent":["import {createSlice} from \"@reduxjs/toolkit\";\n\nexport const initialState = {\n  todos: [],\n  filteredTodos: []\n}\n\nconst todosSlice = createSlice({\n  name: \"todos\",\n  initialState,\n  reducers: {\n    setTodo: (state, action) => {\n      state.todos.push(action.payload);\n    },\n    setAllTodos: (state, action) => {\n      state.todos = action.payload\n    },\n    changeTodoStatus: (state, action) => {\n      const index = state.todos.findIndex(item => item._id === action.payload.changedTodo._id)\n      state.todos[index].isDone = action.payload.status\n    },\n    deleteTodo: (state, action) => {\n      const index = state.todos.findIndex(item => {\n        return item._id === action.payload._id\n      })\n      state.todos.splice(index, 1);\n    },\n  }\n});\n\nexport const { setTodo, setAllTodos, changeTodoStatus, deleteTodo } = todosSlice.actions;\nexport default todosSlice.reducer","import axios from \"axios\";\nconst apiUrl = 'http://localhost:8080'\n\nexport const API = {\n  getAllTodos: async(query = '') => {\n    return await axios({\n      method: 'get',\n      url: `${apiUrl}/todo${query}`,\n    });\n  },\n  getTodo: async(id) => {\n    return await axios({\n      method: 'get',\n      url: `${apiUrl}/todo/${id}`,\n    });\n  },\n  updateTodo: async(id, value) => {\n    return await axios({\n      method: 'put',\n      url: `${apiUrl}/todo/edit/${id}`,\n      data: {\n        value\n      }\n    });\n  },\n  saveTodo: async(todo) => {\n    return await axios({\n      method: 'post',\n      url: `${apiUrl}/todo`,\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      data: {\n        isDone: todo.isDone,\n        value: todo.value\n      }\n    });\n  },\n  allTodosHandler: async (status) => {\n    return await axios({\n      method: 'put',\n      url: `${apiUrl}/todo/complete`,\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      data: {\n        status\n      }\n    });\n  },\n  changeTodoStatus: async (id, status) => {\n    return await axios({\n      method: 'put',\n      url: `${apiUrl}/todo/complete/${id}`,\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      data: {\n        status\n      }\n    });\n  },\n  deleteComplete: async() => {\n    return await axios({\n      method: 'post',\n      url: `${apiUrl}/todo/complete/clear`,\n    });\n  },\n  deleteById: async(id) => {\n    return await axios({\n      method: 'delete',\n      url: `${apiUrl}/todo/delete/${id}`,\n    });\n  },\n}","import React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport {useDispatch, useSelector} from \"react-redux\"\nimport {setTodo, setAllTodos, changeTodoStatus, deleteTodo} from \"./slices/todo\";\nimport styled from 'styled-components'\nimport {NavLink, useHistory} from \"react-router-dom\";\nimport {API} from \"./api\";\n\nconst Todo = (props) => {\n  const [value, setValue] = useState('');\n  const [allTodosSwitch, setAllTodosSwitch] = useState(false);\n  const [activeFilter, setActiveFilter] = useState(props.activeFilter);\n  const history = useHistory();\n\n  const dispatch = useDispatch();\n  const {todos} = useSelector((state) => state.todosSlice);\n\n  useEffect(() => {\n    API.getAllTodos().then(res => {\n      dispatch(setAllTodos(res.data))\n    })\n  }, [])\n\n  const todoHandler = useCallback((e) => {\n    e.preventDefault()\n    setValue(e.target.value)\n  }, [])\n\n  const onKeyDown = useCallback((e) => {\n    if (e.key === 'Enter') {\n      const newTodo = {\n        isDone: activeFilter === 'completed',\n        value,\n      }\n      API.saveTodo(newTodo).then(res => {\n        dispatch(setTodo(res.data))\n      })\n      setValue('')\n    }\n  }, [value])\n\n  const allTodosHandler = useCallback((e) => {\n    e.preventDefault();\n    const status = e.target.checked\n    setAllTodosSwitch(status)\n    API.allTodosHandler(status).then(res => {\n      dispatch(setAllTodos(res.data))\n    })\n  }, [todos, allTodosSwitch])\n\n  const todoStatusHandler = useCallback((e, changedTodo) => {\n    e.preventDefault();\n    const status = e.target.checked\n    API.changeTodoStatus(changedTodo._id, status).then(() => {\n      dispatch(changeTodoStatus({status, changedTodo}))\n    })\n  }, [todos])\n\n  const deleteTodoHandler = useCallback((e, item) => {\n    e.preventDefault();\n\n    API.deleteById(item._id).then(() => {\n      dispatch(deleteTodo(item))\n    })\n  }, [todos])\n\n  const filterHandler = useCallback((filterBy) => {\n    setActiveFilter(filterBy)\n    switch (filterBy) {\n      case 'all':\n        API.getAllTodos().then(res => {\n          dispatch(setAllTodos(res.data))\n        })\n        break;\n      case 'active':\n        API.getAllTodos('?filter=active').then(res => {\n          dispatch(setAllTodos(res.data))\n        })\n        break;\n      case 'completed':\n        API.getAllTodos('?filter=completed').then(res => {\n          dispatch(setAllTodos(res.data))\n        })\n        break;\n    }\n  }, [])\n\n  const deleteCompletedTodos = useCallback((event) => {\n    API.deleteComplete().then(res => {\n      dispatch(setAllTodos(res.data))\n    })\n  }, [todos])\n\n  const getCountCompletedTodos = useMemo(() => {\n    return todos.filter(todo => todo.isDone).length\n  }, [todos])\n\n  const editTodoHandler = useCallback((item) => {\n    history.push(`/todo/${item._id}/edit`)\n  }, [])\n\n  return (\n    <div className=\"app\">\n      <div className=\"\">\n        <input type=\"checkbox\" checked={allTodosSwitch} onChange={allTodosHandler}/>\n        <input type=\"text\" value={value} onChange={todoHandler} onKeyDown={onKeyDown} />\n      </div>\n      {todos?.map((item) => {\n        return (\n          <div key={item._id} className=\"todo-list\">\n            <label>\n              <input type=\"checkbox\" checked={item.isDone} onChange={(e) => todoStatusHandler(e, item)}/>\n              <TodoItem isDone={item.isDone}>{item.value}</TodoItem>\n\n            </label>\n            <button onClick={(e) => deleteTodoHandler(e, item)}>delete</button>\n            <button onClick={() => editTodoHandler(item)}>edit</button>\n            ID: <span className=\"todo-id\">{item._id}</span>\n          </div>\n        )\n      })}\n      <div className=\"todos-information\">\n        <div className=\"\">\n          <span>Completed todos: {getCountCompletedTodos}</span>\n        </div>\n        <div className=\"todo-filter\">\n          <NavLink activeClassName=\"selected\" to=\"/\" exact onClick={() => filterHandler('all')}>All</NavLink>\n          <NavLink activeClassName=\"selected\" to=\"/active\" exact onClick={() => filterHandler('active')}>Active</NavLink>\n          <NavLink activeClassName=\"selected\" to=\"/completed\" exact onClick={() => filterHandler('completed')}>Completed</NavLink>\n        </div>\n        {getCountCompletedTodos ? <button onClick={deleteCompletedTodos} className=\"delete-completed-todos\">Clear completed</button>: null}\n      </div>\n    </div>\n  );\n}\n\nexport default Todo;\n\nconst TodoItem = styled.span`\n  text-decoration: ${props => props.isDone ? 'line-through': null}\n`;\n","import React, {useCallback, useEffect, useState} from 'react';\nimport {useParams, useRouteMatch, useHistory} from \"react-router-dom\";\nimport {API} from \"./api\";\n\nconst SingleTodo = () => {\n  const {id} = useParams();\n  const [todo, setTodo] = useState({});\n  const history = useHistory();\n  const [value, setValue] = useState('');\n  const isEdit = useRouteMatch(\"/todo/:id/edit\")\n\n  useEffect(() => {\n    API.getTodo(id).then(res => {\n      setTodo(res.data)\n      setValue(res.data.value)\n    })\n  }, [])\n\n  const textHandler = useCallback((e) => {\n    setValue(e.target.value)\n  }, [])\n\n  const saveHandler = useCallback((e) => {\n    API.updateTodo(id, value).then(res => {\n      history.push(\"/\");\n    })\n\n  }, [value])\n\n  return (\n    <div className=\"single-todo-wrapper\">\n      {\n        (isEdit && todo) ?\n          <>Edit task:\n            <input type=\"text\" value={value} onChange={textHandler}/>\n            <button onClick={saveHandler} disabled={!value.length}>Save</button>\n          </> : todo?\n          <span>Task: {value}</span>:\n          <div>Todo not Found</div>\n      }\n    </div>\n  )\n};\n\nexport default SingleTodo;\n","import React from 'react';\nimport styled from 'styled-components'\nimport {\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport Todo from \"./Todo\";\nimport SingleTodo from \"./SingleTodo\";\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <Switch>\n        <Route exact path=\"/\">\n          <Todo activeFilter=\"all\"/>\n        </Route>\n        <Route exact path=\"/active\">\n          <Todo activeFilter=\"active\"/>\n        </Route>\n        <Route exact path=\"/completed\">\n          <Todo activeFilter=\"completed\"/>\n        </Route>\n        <Route exact path=\"/todo/:id/edit\">\n          <SingleTodo/>\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n\n","import {combineReducers} from \"redux\";\nimport {configureStore} from \"@reduxjs/toolkit\";\nimport todosSlice from '../slices/todo'\n\nconst reducer = combineReducers({\n  todosSlice\n})\n\nconst store = configureStore({\n  reducer,\n})\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport {Provider} from \"react-redux\";\nimport store from \"./store\";\nimport {BrowserRouter} from \"react-router-dom\";\n\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}