(this["webpackJsonptodo-list-react"]=this["webpackJsonptodo-list-react"]||[]).push([[0],{46:function(t,e,n){},70:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n(0),o=n.n(a),r=n(16),s=n.n(r),u=(n(46),n(2)),i=n(36),d=n(13),l=n(15),j=n(17),p=Object(j.b)({name:"todos",initialState:{todos:[],filteredTodos:[]},reducers:{setTodo:function(t,e){t.todos.push(e.payload)},setAllTodos:function(t,e){t.todos=e.payload},changeTodoStatus:function(t,e){var n=t.todos.findIndex((function(t){return t._id===e.payload.changedTodo._id}));t.todos[n].isDone=e.payload.status},deleteTodo:function(t,e){var n=t.todos.findIndex((function(t){return t._id===e.payload._id}));t.todos.splice(n,1)}}}),b=p.actions,f=b.setTodo,h=b.setAllTodos,O=b.changeTodoStatus,v=b.deleteTodo,x=p.reducer,m=n(20),k=n(10),C=n(3),g=n.n(C),T=n(8),y=n(9),w=n.n(y),D="http://localhost:8080",S={getAllTodos:function(){var t=Object(T.a)(g.a.mark((function t(){var e,n=arguments;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:"",t.next=3,w()({method:"get",url:"".concat(D,"/todo").concat(e)});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getTodo:function(){var t=Object(T.a)(g.a.mark((function t(e){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w()({method:"get",url:"".concat(D,"/todo/").concat(e)});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),updateTodo:function(){var t=Object(T.a)(g.a.mark((function t(e,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w()({method:"put",url:"".concat(D,"/todo/edit/").concat(e),data:{value:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),saveTodo:function(){var t=Object(T.a)(g.a.mark((function t(e){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w()({method:"post",url:"".concat(D,"/todo"),headers:{"Content-Type":"application/json"},data:{isDone:e.isDone,value:e.value}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),allTodosHandler:function(){var t=Object(T.a)(g.a.mark((function t(e){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w()({method:"put",url:"".concat(D,"/todo/complete"),headers:{"Content-Type":"application/json"},data:{status:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),changeTodoStatus:function(){var t=Object(T.a)(g.a.mark((function t(e,n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w()({method:"put",url:"".concat(D,"/todo/complete/").concat(e),headers:{"Content-Type":"application/json"},data:{status:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),deleteComplete:function(){var t=Object(T.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w()({method:"post",url:"".concat(D,"/todo/complete/clear")});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),deleteById:function(){var t=Object(T.a)(g.a.mark((function t(e){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w()({method:"delete",url:"".concat(D,"/todo/delete/").concat(e)});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function N(){var t=Object(i.a)(["\n  text-decoration: ","\n"]);return N=function(){return t},t}var A=function(t){var e=Object(a.useState)(""),n=Object(d.a)(e,2),o=n[0],r=n[1],s=Object(a.useState)(!1),i=Object(d.a)(s,2),j=i[0],p=i[1],b=Object(a.useState)(t.activeFilter),x=Object(d.a)(b,2),m=x[0],C=x[1],g=Object(u.f)(),T=Object(l.b)(),y=Object(l.c)((function(t){return t.todosSlice})).todos;Object(a.useEffect)((function(){S.getAllTodos().then((function(t){T(h(t.data))}))}),[]);var w=Object(a.useCallback)((function(t){t.preventDefault(),r(t.target.value)}),[]),D=Object(a.useCallback)((function(t){if("Enter"===t.key){var e={isDone:"completed"===m,value:o};S.saveTodo(e).then((function(t){T(f(t.data))})),r("")}}),[o]),N=Object(a.useCallback)((function(t){t.preventDefault();var e=t.target.checked;p(e),S.allTodosHandler(e).then((function(t){T(h(t.data))}))}),[y,j]),A=Object(a.useCallback)((function(t,e){t.preventDefault();var n=t.target.checked;S.changeTodoStatus(e._id,n).then((function(){T(O({status:n,changedTodo:e}))}))}),[y]),F=Object(a.useCallback)((function(t,e){t.preventDefault(),S.deleteById(e._id).then((function(){T(v(e))}))}),[y]),I=Object(a.useCallback)((function(t){switch(C(t),t){case"all":S.getAllTodos().then((function(t){T(h(t.data))}));break;case"active":S.getAllTodos("?filter=active").then((function(t){T(h(t.data))}));break;case"completed":S.getAllTodos("?filter=completed").then((function(t){T(h(t.data))}))}}),[]),E=Object(a.useCallback)((function(t){S.deleteComplete().then((function(t){T(h(t.data))}))}),[y]),B=Object(a.useMemo)((function(){return y.filter((function(t){return t.isDone})).length}),[y]),H=Object(a.useCallback)((function(t){g.push("/todo/".concat(t._id,"/edit"))}),[]);return Object(c.jsxs)("div",{className:"app",children:[Object(c.jsxs)("div",{className:"",children:[Object(c.jsx)("input",{type:"checkbox",checked:j,onChange:N}),Object(c.jsx)("input",{type:"text",value:o,onChange:w,onKeyDown:D})]}),null===y||void 0===y?void 0:y.map((function(t){return Object(c.jsxs)("div",{className:"todo-list",children:[Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"checkbox",checked:t.isDone,onChange:function(e){return A(e,t)}}),Object(c.jsx)(_,{isDone:t.isDone,children:t.value})]}),Object(c.jsx)("button",{onClick:function(e){return F(e,t)},children:"delete"}),Object(c.jsx)("button",{onClick:function(){return H(t)},children:"edit"}),"ID: ",Object(c.jsx)("span",{className:"todo-id",children:t._id})]},t._id)})),Object(c.jsxs)("div",{className:"todos-information",children:[Object(c.jsx)("div",{className:"",children:Object(c.jsxs)("span",{children:["Completed todos: ",B]})}),Object(c.jsxs)("div",{className:"todo-filter",children:[Object(c.jsx)(k.b,{activeClassName:"selected",to:"/",exact:!0,onClick:function(){return I("all")},children:"All"}),Object(c.jsx)(k.b,{activeClassName:"selected",to:"/active",exact:!0,onClick:function(){return I("active")},children:"Active"}),Object(c.jsx)(k.b,{activeClassName:"selected",to:"/completed",exact:!0,onClick:function(){return I("completed")},children:"Completed"})]}),B?Object(c.jsx)("button",{onClick:E,className:"delete-completed-todos",children:"Clear completed"}):null]})]})},_=m.a.span(N(),(function(t){return t.isDone?"line-through":null})),F=function(){var t=Object(u.g)().id,e=Object(a.useState)({}),n=Object(d.a)(e,2),o=n[0],r=n[1],s=Object(u.f)(),i=Object(a.useState)(""),l=Object(d.a)(i,2),j=l[0],p=l[1],b=Object(u.h)("/todo/:id/edit");Object(a.useEffect)((function(){S.getTodo(t).then((function(t){r(t.data),p(t.data.value)}))}),[]);var f=Object(a.useCallback)((function(t){p(t.target.value)}),[]),h=Object(a.useCallback)((function(e){S.updateTodo(t,j).then((function(t){s.push("/")}))}),[j]);return Object(c.jsx)("div",{className:"single-todo-wrapper",children:b&&o?Object(c.jsxs)(c.Fragment,{children:["Edit task:",Object(c.jsx)("input",{type:"text",value:j,onChange:f}),Object(c.jsx)("button",{onClick:h,disabled:!j.length,children:"Save"})]}):o?Object(c.jsxs)("span",{children:["Task: ",j]}):Object(c.jsx)("div",{children:"Todo not Found"})})};var I=function(){return Object(c.jsx)("div",{className:"app",children:Object(c.jsxs)(u.c,{children:[Object(c.jsx)(u.a,{exact:!0,path:"/",children:Object(c.jsx)(A,{activeFilter:"all"})}),Object(c.jsx)(u.a,{exact:!0,path:"/active",children:Object(c.jsx)(A,{activeFilter:"active"})}),Object(c.jsx)(u.a,{exact:!0,path:"/completed",children:Object(c.jsx)(A,{activeFilter:"completed"})}),Object(c.jsx)(u.a,{exact:!0,path:"/todo/:id/edit",children:Object(c.jsx)(F,{})})]})})},E=n(5),B=Object(E.c)({todosSlice:x}),H=Object(j.a)({reducer:B});s.a.render(Object(c.jsx)(l.a,{store:H,children:Object(c.jsx)(k.a,{children:Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(I,{})})})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.765b51ff.chunk.js.map